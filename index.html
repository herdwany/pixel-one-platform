<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>PixelOne | Visual Identity & Digital Experience</title>
  
  <meta name="description" content="Pixel One Visuals â€” agence crÃ©ative au Maroc pour vidÃ©o, design et services digitaux." />

  <meta property="og:title" content="PixelOne | Visual Identity Agency">
  <meta property="og:description" content="Transformez votre vision en rÃ©alitÃ©. Agence crÃ©ative leader au Maroc.">
  <meta property="og:image" content="assets/img/og-cover.jpg">
  <meta property="og:url" content="https://www.pixelonevisuals.tech">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#030303">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Pixel One",
    "url": "https://www.pixelonevisuals.tech",
    "logo": "https://www.pixelonevisuals.tech/icon/black/favicon-96x96.png",
    "sameAs": [ "https://www.pixelonevisuals.tech" ],
    "areaServed": "MA"
  }
  </script>
  
  <link rel="icon" type="image/png" sizes="96x96" href="icon/black/favicon-96x96.png" />
  <link rel="icon" type="image/svg+xml" href="icon/black/favicon.svg" />
  <link rel="shortcut icon" href="icon/black/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="icon/black/apple-touch-icon.png" />
  <link rel="manifest" href="icon/black/site.webmanifest" />

  <script src="assets/js/theme-manager.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=IBM+Plex+Sans+Arabic:wght@300;400;500;700&display=swap" rel="stylesheet" />
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <link href="assets/css/tailwind.output.css?v=102" rel="stylesheet">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

  <style>
    /* Font setup per language */
    body.lang-fr, body.lang-en { font-family: 'Inter', sans-serif; }
    body.lang-ar { font-family: 'IBM Plex Sans Arabic', sans-serif; }
    
    /* Ensure body allows background transparency for Cinematic Engine */
    body { background-color: transparent !important; }
    
    /* Reveal Animation */
    .reveal { opacity: 0; transform: translateY(30px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.visible { opacity: 1; transform: none; }
  </style>
</head>

<body class="lang-fr" data-ui="pro" data-app="pixelone">

  <div id="pixel-preloader" class="fixed inset-0 z-[9999] flex items-center justify-center bg-[#030303] transition-opacity duration-700">
      <div class="relative flex flex-col items-center">
          <img src="assets/img/logo.png" alt="PixelOne" class="w-24 h-24 object-contain animate-pulse-slow">
          <div class="mt-8 h-0.5 w-32 bg-gray-800 rounded-full overflow-hidden">
              <div class="h-full bg-[#ff0000] animate-progress"></div>
          </div>
      </div>
  </div>

  <div id="custom-cursor" class="fixed w-4 h-4 bg-[#ff0000] rounded-full pointer-events-none z-[9998] mix-blend-difference transition-transform duration-100 ease-out hidden md:block" style="transform: translate(-50%, -50%);"></div>

  <div id="lang-select-modal" class="fixed inset-0 z-[200] flex items-center justify-center bg-black/70 backdrop-blur-xl transition-all duration-300">
    <div class="bg-[#161616] border border-[#252525] rounded-2xl p-8 max-w-sm w-full mx-4 shadow-2xl">
      <div class="text-center mb-7">
        <div class="inline-block text-3xl font-extrabold tracking-tight mb-2 site-logo">
          <span class="text-red-500">Pixel</span>One
        </div>
        <p class="text-gray-500 text-xs leading-relaxed">
          Choose your language &nbsp;Â·&nbsp; Choisissez votre langue &nbsp;Â·&nbsp; Ø§Ø®ØªØ± Ù„ØºØªÙƒ
        </p>
      </div>
      <div class="space-y-3">
        <button onclick="selectFirstLang('fr')" class="w-full flex items-center gap-4 bg-[#0d0d0d] hover:bg-[#1a1a1a] border border-[#252525] hover:border-red-500/40 rounded-xl px-5 py-4 transition group text-left">
          <span class="text-2xl leading-none">ðŸ‡«ðŸ‡·</span>
          <div><p class="font-semibold text-white text-sm">FranÃ§ais</p><p class="text-[11px] text-gray-500">Agence CrÃ©ative</p></div>
          <i class="fa-solid fa-chevron-right text-gray-600 group-hover:text-red-500 ms-auto text-xs transition"></i>
        </button>
        <button onclick="selectFirstLang('en')" class="w-full flex items-center gap-4 bg-[#0d0d0d] hover:bg-[#1a1a1a] border border-[#252525] hover:border-red-500/40 rounded-xl px-5 py-4 transition group text-left">
          <span class="text-2xl leading-none">ðŸ‡ºðŸ‡¸</span>
          <div><p class="font-semibold text-white text-sm">English</p><p class="text-[11px] text-gray-500">Creative Agency</p></div>
          <i class="fa-solid fa-chevron-right text-gray-600 group-hover:text-red-500 ms-auto text-xs transition"></i>
        </button>
        <button onclick="selectFirstLang('ar')" class="w-full flex items-center gap-4 bg-[#0d0d0d] hover:bg-[#1a1a1a] border border-[#252525] hover:border-red-500/40 rounded-xl px-5 py-4 transition group" dir="rtl">
          <span class="text-2xl leading-none">ðŸ‡²ðŸ‡¦</span>
          <div class="text-right"><p class="font-semibold text-white text-sm" style="font-family:'IBM Plex Sans Arabic'">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</p><p class="text-[11px] text-gray-500" style="font-family:'IBM Plex Sans Arabic'">ÙˆÙƒØ§Ù„Ø© Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©</p></div>
          <i class="fa-solid fa-chevron-left text-gray-600 group-hover:text-red-500 me-auto text-xs transition"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    if (localStorage.getItem('px_lang_selected')) {
      document.getElementById('lang-select-modal').style.display = 'none';
    }
  </script>

  <nav id="main-nav" class="fixed top-0 left-0 right-0 z-50 bg-black/60 backdrop-blur-xl border-b border-white/[0.06] shadow-lg transition-shadow duration-300">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex items-center justify-between h-16">
        <a href="index.html" dir="ltr" class="site-logo flex items-center gap-1.5 font-bold text-xl tracking-tight shrink-0">
          <span class="text-brand">Pixel</span><span>One</span>
        </a>
        <div class="hidden lg:flex items-center gap-7 text-sm text-gray-400">
          <a href="#services" class="hover:text-white transition-colors duration-200" data-i18n="nav.services">Services</a>
          <a href="#why" class="hover:text-white transition-colors duration-200" data-i18n="nav.why">Pourquoi nous</a>
          <a href="#contact" class="hover:text-white transition-colors duration-200" data-i18n="nav.contact">Contact</a>
          <a href="blog.html" class="bg-brand hover:bg-brand-dark text-white text-xs font-semibold uppercase tracking-widest px-4 py-2 rounded-lg transition-colors duration-200 shadow-md border border-brand/40" data-i18n="footer.blog">Blog</a>
        </div>
        <div class="flex items-center gap-1.5 sm:gap-2">
          <button type="button" id="theme-toggle" onclick="toggleTheme(event)" class="w-9 h-9 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/[0.08] transition-all duration-200">
            <i id="theme-toggle-icon" class="theme-toggle-icon fa-solid fa-sun text-sm"></i>
          </button>
          <div class="relative" id="lang-dropdown-wrapper">
            <button id="lang-btn" class="flex items-center gap-1.5 h-9 px-2.5 rounded-lg border border-white/[0.08] hover:border-brand/30 text-gray-400 hover:text-white text-sm transition-all duration-200 cursor-pointer">
              <span id="lang-flag" class="text-base leading-none">ðŸ‡«ðŸ‡·</span>
              <span id="lang-code" class="font-medium text-xs tracking-wide hidden sm:inline">FR</span>
              <i class="fa-solid fa-chevron-down text-[8px] opacity-40"></i>
            </button>
            <div id="lang-dropdown" class="hidden absolute end-0 top-full mt-2 w-44 bg-[#161616] border border-[#282828] rounded-xl shadow-2xl overflow-hidden z-50">
              <button onclick="setLanguage('fr')" class="lang-opt w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-300 hover:bg-brand/10 hover:text-white transition text-start"><span class="text-base leading-none">ðŸ‡«ðŸ‡·</span><div class="text-start flex-1"><p class="font-semibold text-xs">FranÃ§ais</p></div></button>
              <div class="h-px bg-[#282828]"></div>
              <button onclick="setLanguage('en')" class="lang-opt w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-300 hover:bg-brand/10 hover:text-white transition text-start"><span class="text-base leading-none">ðŸ‡ºðŸ‡¸</span><div class="text-start flex-1"><p class="font-semibold text-xs">English</p></div></button>
              <div class="h-px bg-[#282828]"></div>
              <button onclick="setLanguage('ar')" class="lang-opt w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-300 hover:bg-brand/10 hover:text-white transition text-start"><span class="text-base leading-none">ðŸ‡²ðŸ‡¦</span><div class="text-start flex-1" style="font-family:'IBM Plex Sans Arabic'"><p class="font-semibold text-xs">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</p></div></button>
            </div>
          </div>
          <a href="auth.html" class="hidden sm:flex items-center text-sm text-gray-400 hover:text-white transition-colors duration-200 px-2 py-1.5" data-i18n="nav.login">Connexion</a>
          <a href="services.html" class="hidden sm:flex items-center bg-brand hover:bg-brand-dark text-white text-xs font-semibold uppercase tracking-widest px-4 py-2 rounded-lg transition-colors duration-200" data-i18n="nav.cta">Nos services</a>
          <button id="mobile-menu-btn" onclick="toggleMobileMenu()" class="lg:hidden w-9 h-9 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/[0.08] transition-all duration-200"><i class="fa-solid fa-bars text-sm"></i></button>
        </div>
      </div>
    </div>
    <div id="mobile-menu" class="hidden lg:hidden border-t border-white/[0.06] bg-black/70 backdrop-blur-xl">
      <div class="max-w-7xl mx-auto px-4 py-3 space-y-1">
        <a href="#services" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/[0.05] transition text-sm font-medium" data-i18n="nav.services">Services</a>
        <a href="#why" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/[0.05] transition text-sm font-medium" data-i18n="nav.why">Pourquoi nous</a>
        <a href="#contact" onclick="toggleMobileMenu()" class="block px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/[0.05] transition text-sm font-medium" data-i18n="nav.contact">Contact</a>
        <div class="h-px bg-white/[0.06] my-2"></div>
        <a href="auth.html" class="block px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/[0.05] transition text-sm font-medium" data-i18n="nav.login">Connexion</a>
        <a href="services.html" class="block px-4 py-3 rounded-lg bg-brand/10 text-brand hover:bg-brand hover:text-white transition text-sm font-semibold text-center" data-i18n="nav.cta">Nos services</a>
      </div>
    </div>
  </nav>

  <section class="relative pt-32 pb-24 px-6 text-center overflow-hidden">
    <div class="relative z-10 max-w-4xl mx-auto">
      <span id="hero-badge" class="inline-block bg-brand/10 border border-brand/30 text-brand text-xs font-semibold px-4 py-1.5 rounded-full mb-6 tracking-widest uppercase" data-i18n="hero.badge">
        Agence CrÃ©ative â€” Maroc ðŸ‡²ðŸ‡¦
      </span>
      <h1 id="hero-title" class="text-white text-5xl md:text-8xl font-extrabold tracking-tighter leading-tight mb-6" style="text-wrap:balance">
        <span data-i18n="hero.title" class="!text-white">Votre vision</span><br/>
        <span class="text-brand glow-text" data-i18n="hero.title.accent">amplifiÃ©e</span>
      </h1>
      <p id="hero-desc" class="text-gray-400 text-lg md:text-xl max-w-2xl mx-auto mb-10 leading-relaxed font-light" data-i18n="hero.desc">
        Design graphique et montage vidÃ©o professionnel pour les marques ambitieuses.
      </p>
      <div id="hero-cta" class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="services.html" class="btn-primary">
          <span data-i18n="hero.cta.primary">Voir les services</span>
          <i class="fa-solid fa-arrow-right ms-2"></i>
        </a>
        <a href="auth.html" class="btn-secondary" data-i18n="hero.cta.secondary">
          CrÃ©er un compte
        </a>
      </div>
    </div>
  </section>

  <section id="services" class="py-24 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-14 reveal">
        <h2 class="text-3xl md:text-5xl font-bold mb-3"><span data-i18n="services.title">Nos</span> <span class="text-brand" data-i18n="services.title.accent">Services</span></h2>
        <p class="text-lg text-gray-400 font-light max-w-xl mx-auto" data-i18n="services.desc">Des solutions crÃ©atives sur-mesure.</p>
      </div>

      <div class="flex justify-center gap-3 mb-10 reveal">
        <button class="svc-tab active bg-brand/10 border border-brand/30 text-brand text-sm font-semibold px-5 py-2 rounded-full transition hover:bg-brand hover:text-white" data-cat=""><i class="fa-solid fa-grip mr-1.5 text-xs"></i><span data-i18n="svc.filter.all">Tous</span></button>
        <button class="svc-tab bg-surface-card border border-surface-border text-gray-400 text-sm font-semibold px-5 py-2 rounded-full transition hover:border-brand/40 hover:text-white" data-cat="design"><i class="fa-solid fa-pen-nib mr-1.5 text-xs"></i><span data-i18n="cat.design">Design</span></button>
        <button class="svc-tab bg-surface-card border border-surface-border text-gray-400 text-sm font-semibold px-5 py-2 rounded-full transition hover:border-brand/40 hover:text-white" data-cat="video"><i class="fa-solid fa-film mr-1.5 text-xs"></i><span data-i18n="cat.video">VidÃ©o</span></button>
      </div>

      <div id="featured-services" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8">
        <div class="col-span-2 text-center py-10 text-gray-500">Chargementâ€¦</div>
      </div>
    </div>
  </section>

  <section id="coming-soon" class="py-24 px-6 border-t border-surface-border">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-14 reveal">
        <span class="inline-block bg-yellow-500/10 border border-yellow-500/30 text-yellow-400 text-xs font-bold px-4 py-1.5 rounded-full mb-4 uppercase tracking-widest"><i class="fa-solid fa-clock mr-1.5"></i><span data-i18n="coming.badge">BientÃ´t disponible</span></span>
        <h2 class="text-3xl md:text-5xl font-bold mb-3"><span data-i18n="coming.title">De nouveaux</span> <span class="text-brand" data-i18n="coming.title.accent">services</span></h2>
      </div>
      <div id="coming-soon-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
  </section>

  <section id="why" class="py-24 px-6 border-y border-surface-border bg-black/20">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-14 reveal">
        <h2 class="text-3xl md:text-5xl font-bold mb-3"><span data-i18n="why.title">Pourquoi</span> <span class="text-brand">Pixel One</span> ?</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="reveal card-glass p-8">
          <div class="w-12 h-12 bg-brand/10 rounded-xl flex items-center justify-center mb-5"><i class="fa-solid fa-bolt text-brand text-xl"></i></div>
          <h3 class="font-bold text-lg mb-2" data-i18n="why.fast.title">Livraison Rapide</h3>
          <p class="text-gray-400 text-sm leading-relaxed" data-i18n="why.fast.desc">Respect des dÃ©lais et suivi en temps rÃ©el.</p>
        </div>
        <div class="reveal card-glass p-8">
          <div class="w-12 h-12 bg-brand/10 rounded-xl flex items-center justify-center mb-5"><i class="fa-solid fa-shield-halved text-brand text-xl"></i></div>
          <h3 class="font-bold text-lg mb-2" data-i18n="why.secure.title">Paiement SÃ©curisÃ©</h3>
          <p class="text-gray-400 text-sm leading-relaxed" data-i18n="why.secure.desc">Virement, CashPlus avec preuve de paiement.</p>
        </div>
        <div class="reveal card-glass p-8">
          <div class="w-12 h-12 bg-brand/10 rounded-xl flex items-center justify-center mb-5"><i class="fa-solid fa-headset text-brand text-xl"></i></div>
          <h3 class="font-bold text-lg mb-2" data-i18n="why.support.title">Support WhatsApp</h3>
          <p class="text-gray-400 text-sm leading-relaxed" data-i18n="why.support.desc">Assistance directe aprÃ¨s commande.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="contact" class="py-24 px-6">
    <div class="max-w-3xl mx-auto text-center reveal">
      <h2 class="text-3xl md:text-5xl font-bold mb-4"><span data-i18n="contact.title">PrÃªt Ã  dÃ©marrer ?</span></h2>
      <div class="flex flex-col sm:flex-row gap-4 justify-center mt-8">
        <a href="services.html" class="btn-primary" data-i18n="contact.cta">Commencer maintenant</a>
        <a id="whatsapp-cta" href="#" target="_blank" class="btn-secondary">
          <i class="fa-brands fa-whatsapp text-green-500 text-xl mr-2"></i>
          <span data-i18n="contact.whatsapp">WhatsApp</span>
        </a>
      </div>
    </div>
  </section>

  <footer class="border-t border-surface-border py-10 px-6">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4 text-gray-500 text-sm">
      <p class="font-bold text-white site-logo" dir="ltr"><span class="text-brand">Pixel</span>One Â© 2026</p>
      <div class="flex flex-wrap justify-center gap-4 sm:gap-6">
        <a href="services.html" class="hover:text-white transition" data-i18n="footer.services">Services</a>
        <a href="auth.html" class="hover:text-white transition" data-i18n="footer.login">Connexion</a>
        <a href="dashboard.html" class="hover:text-white transition" data-i18n="footer.dashboard">Mon espace</a>
        <a href="blog.html" class="hover:text-white transition" data-i18n="footer.blog">Blog</a>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="assets/js/config.js"></script>
  <script src="assets/js/i18n.js"></script>
  <script src="assets/js/supabase-client.js"></script>
  <script src="assets/js/utils/cache.js"></script>
  <script src="assets/js/api/services.api.js"></script>
  <script src="assets/js/api/blog.api.js"></script>

  <script>
    // â”€â”€ Logic: Preloader, Cursor, Titles, Animations â”€â”€
    
    // 1. Preloader Hide
    window.addEventListener('load', () => {
        const preloader = document.getElementById('pixel-preloader');
        if (preloader) {
            setTimeout(() => {
                preloader.style.opacity = '0';
                setTimeout(() => { preloader.style.display = 'none'; }, 700);
            }, 1500);
        }
    });

    // 2. Custom Cursor Logic
    const cursor = document.getElementById('custom-cursor');
    document.addEventListener('mousemove', (e) => {
        if(window.innerWidth > 768) { // Only on desktop
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        }
    });
    // Hover effect
    document.querySelectorAll('a, button, .btn-primary, .btn-secondary, .card-glass').forEach(link => {
        link.addEventListener('mouseenter', () => { 
            cursor.style.transform = `translate(-50%, -50%) scale(2.5)`; 
            cursor.style.opacity = '0.5'; 
        });
        link.addEventListener('mouseleave', () => { 
            cursor.style.transform = `translate(-50%, -50%) scale(1)`; 
            cursor.style.opacity = '1'; 
        });
    });

    // 3. Dynamic Title Changing
    const baseTitles = {
        'fr': "PixelOne | IdentitÃ© Visuelle & ExpÃ©rience Digitale",
        'en': "PixelOne | Visual Identity & Digital Experience",
        'ar': "Ø¨ÙƒØ³Ù„ ÙˆÙ† | Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© ÙˆØ§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©"
    };
    // Update title when language changes
    document.addEventListener('langchange', (e) => {
        const lang = getLang();
        if(baseTitles[lang]) document.title = baseTitles[lang];
    });

    // 4. Existing Logic (Modal, Render, etc.) - Preserved
    function selectFirstLang(lang) {
      const modal = document.getElementById('lang-select-modal');
      if (modal) {
        modal.style.transition = 'opacity 0.3s ease';
        modal.style.opacity = '0';
        setTimeout(() => { modal.style.display = 'none'; }, 320);
      }
      setLanguage(lang);
      renderFeatured();
      renderComingSoon();
    }

    // Category Tabs
    let homeCatFilter = '';
    document.querySelectorAll('.svc-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.svc-tab').forEach(t => {
          t.classList.remove('active', 'bg-brand/10', 'border-brand/30', 'text-brand');
          t.classList.add('bg-surface-card', 'border-surface-border', 'text-gray-400');
        });
        tab.classList.add('active', 'bg-brand/10', 'border-brand/30', 'text-brand');
        tab.classList.remove('bg-surface-card', 'border-surface-border', 'text-gray-400');
        homeCatFilter = tab.dataset.cat;
        renderFeatured();
      });
    });

    // Load Services
    async function renderFeatured() {
      const container = document.getElementById('featured-services');
      if (!container) return;
      let services = [];
      try { services = await ServicesAPI.listActiveAll(); } 
      catch (err) { services = CONFIG.SERVICES; }

      if (homeCatFilter) services = services.filter(s => s.category === homeCatFilter);
      const lang = getLang();
      
      if (!services.length) { container.innerHTML = `<div class="col-span-2 text-center py-10 text-gray-500">${t('svc.empty')}</div>`; return; }

      container.innerHTML = services.map((svc, i) => {
        const title = svc.titles?.[lang] || svc.title;
        const features = svc.features_i18n?.[lang] || svc.features || [];
        return `
        <div class="card-glass overflow-hidden group reveal" style="animation-delay: ${i * 100}ms">
          <div class="relative h-52 overflow-hidden">
            <img src="${svc.image_url}" alt="${title}" class="w-full h-full object-cover group-hover:scale-110 transition duration-700" loading="lazy">
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
            <span class="absolute top-4 left-4 bg-black/70 backdrop-blur-sm text-xs text-gray-300 px-3 py-1 rounded-full border border-surface-border">${t('cat.' + svc.category)}</span>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2">${title}</h3>
            <ul class="text-gray-400 text-sm space-y-2 mb-6">
              ${features.slice(0, 3).map(f => `<li class="flex items-center gap-2"><i class="fa-solid fa-check text-brand text-xs"></i>${f}</li>`).join('')}
            </ul>
            <div class="flex items-center justify-between pt-4 border-t border-surface-border">
              <p class="text-brand font-extrabold text-2xl">${Number(svc.price).toLocaleString('fr-FR')} <span class="text-sm font-normal text-gray-500">MAD</span></p>
              <a href="service-details.html?id=${svc.id}" class="bg-brand/10 hover:bg-brand text-brand hover:text-white text-sm font-semibold px-4 py-2 rounded-lg border border-brand/20 transition">${t('svc.card.order') || 'Commander'}</a>
            </div>
          </div>
        </div>
      `}).join('');
      setTimeout(triggerReveal, 50);
    }

    async function renderComingSoon() { /* Keeping functionality simpler for brevity, assuming standard fetch */
      const container = document.getElementById('coming-soon-grid');
      if (!container) return;
      let coming = [];
      try { coming = await ServicesAPI.listComingSoon(); } catch (_) { coming = CONFIG.COMING_SOON_SERVICES || []; }
      if(!coming || !coming.length) coming = CONFIG.COMING_SOON_SERVICES || [];
      const lang = getLang();
      container.innerHTML = coming.map((svc, i) => {
          const title = svc.titles?.[lang] || svc.title;
          return `
          <div class="card-glass reveal relative overflow-hidden transition-all duration-300 group" style="animation-delay: ${i * 100}ms">
            <div class="absolute inset-0 bg-gradient-to-b from-yellow-500/5 to-transparent pointer-events-none"></div>
            <div class="relative h-44 overflow-hidden">
              <img src="${svc.image_url}" alt="${title}" class="w-full h-full object-cover opacity-60 group-hover:opacity-100 group-hover:scale-105 transition duration-500">
              <span class="absolute top-3 left-3 bg-black/80 backdrop-blur-md border border-yellow-500/50 text-yellow-400 text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg">BientÃ´t</span>
            </div>
            <div class="p-5">
              <h3 class="text-lg font-bold mb-2 text-white">${title}</h3>
              <div class="pt-3 border-t border-white/10 flex items-center justify-between">
                <span class="text-yellow-400 text-xs font-bold">Soon</span>
              </div>
            </div>
          </div>`;
      }).join('');
      setTimeout(triggerReveal, 50);
    }

    function triggerReveal() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
      }, { threshold: 0.1 });
      document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    }

    document.addEventListener('DOMContentLoaded', async () => {
      renderFeatured();
      renderComingSoon();
      triggerReveal();
      
      // Hero Animation
      gsap.set(['#hero-badge', '#hero-title', '#hero-desc', '#hero-cta'], { opacity: 0, y: 40 });
      const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });
      tl.to('#hero-badge', { opacity: 1, y: 0, duration: 0.7 })
        .to('#hero-title',  { opacity: 1, y: 0, duration: 0.9 }, '-=0.4')
        .to('#hero-desc',   { opacity: 1, y: 0, duration: 0.7 }, '-=0.5')
        .to('#hero-cta',    { opacity: 1, y: 0, duration: 0.6 }, '-=0.4');

      const waBtn = document.getElementById('whatsapp-cta');
      if (waBtn && typeof CONFIG !== 'undefined') waBtn.href = `https://wa.me/${CONFIG.WHATSAPP_NUMBER}`;
    });
    
    document.addEventListener('langchange', () => { renderFeatured(); renderComingSoon(); });
  </script>

  <script src="assets/js/cinematic-bg.js?v=102"></script>
</body>
</html>